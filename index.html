
<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>SeoulMate - Doodle Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Patrick Hand for English/Numbers, Gaegu/Noto Sans for Text -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@300;400;700&family=Noto+Sans+KR:wght@400;700&family=Patrick+Hand&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              paper: '#FDFBF7',    // Background (Off-white)
              cardbg: '#FFFCDE',   // Card Yellow Background
              ink: '#004AAD',      // Primary Blue (Outlines)
              stripe: '#D93025',   // Red/Orange for Stripes
              marker: '#D93025',   // Accent Red
              highlight: '#FFD700',// Accent Yellow
            },
            fontFamily: {
              sans: ['"Gaegu"', '"Noto Sans KR"', 'sans-serif'], 
              hand: ['"Patrick Hand"', 'cursive'], 
            },
            boxShadow: {
              'doodle': '4px 4px 0px 0px #004AAD',
              'doodle-sm': '2px 2px 0px 0px #004AAD',
            },
            animation: {
              'float': 'float 3s ease-in-out infinite',
            }
          }
        }
      }
    </script>
    <style>
      html, body, #root {
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      body {
        font-family: 'Gaegu', 'Noto Sans KR', sans-serif;
        background-color: #FDFBF7;
        color: #004AAD;
        -webkit-tap-highlight-color: transparent;
      }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-5px); }
        100% { transform: translateY(0px); }
      }

      /* Wonky Borders for Hand-drawn effect */
      .hand-border {
        border: 2px solid #004AAD;
        border-radius: 2px 2px 2px 2px;
      }
      
      .wonky-box {
        border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
        border: 2px solid #004AAD;
      }

      .hand-input {
        border: 2px solid #004AAD;
        border-radius: 8px;
        background: white;
        color: #004AAD;
      }
      .hand-input:focus {
        outline: none;
        box-shadow: 2px 2px 0px 0px #FFD700;
      }

      /* Wavy Border Box Logic */
      .wavy-box {
        position: relative;
        background: #FDFBF7;
        padding: 20px;
        border: 2px solid #004AAD;
        border-radius: 10px;
      }
      /* Simple CSS approach for scalloped edges using radial gradient mask */
      .scalloped-box {
        --r: 6px;  /* radius */
        background: #FDFBF7; /* match paper */
        border: 2px solid #004AAD; 
        position: relative;
        padding: 1rem;
        border-radius: 12px;
      }
      /* Use a pseudo element to create the wavy visual if possible, or just standard border for now as pure CSS waves are complex without SVG */
      
      /* Leaflet Customization */
      .leaflet-container {
        height: 100% !important;
        width: 100% !important;
        background: #FDFBF7 !important;
        z-index: 1;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.32.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.556.0",
    "recharts": "https://aistudiocdn.com/recharts@^3.5.1",
    "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
    "firebase/firestore": "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js",
    "firebase/": "https://aistudiocdn.com/firebase@^12.6.0/"
  }
}
</script>
</head>
  <body>
    <!-- Define Global SVG Patterns for the Doodle Effect -->
    <svg style="position: absolute; width: 0; height: 0; overflow: hidden;" aria-hidden="true">
      <defs>
        <!-- The "Red Wavy/Hatch" Pattern -->
        <pattern id="doodle-hatch" x="0" y="0" width="8" height="8" patternUnits="userSpaceOnUse" patternTransform="rotate(0)">
           <path d="M0,4 Q2,2 4,4 T8,4" fill="none" stroke="#D93025" stroke-width="1.5" stroke-linecap="round" />
        </pattern>
        
        <!-- The "Grid" Pattern for Expense Inputs -->
        <pattern id="doodle-grid" x="0" y="0" width="6" height="6" patternUnits="userSpaceOnUse">
           <path d="M 6 0 L 0 0 0 6" fill="none" stroke="#D93025" stroke-width="1"/>
           <path d="M 0 6 L 6 6 6 0" fill="none" stroke="#D93025" stroke-width="1"/>
        </pattern>
        
        <!-- A Blue Dot Pattern for backgrounds -->
        <pattern id="blue-dots" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
           <circle cx="2" cy="2" r="1.5" fill="#004AAD" fill-opacity="0.3" />
        </pattern>
      </defs>
    </svg>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
